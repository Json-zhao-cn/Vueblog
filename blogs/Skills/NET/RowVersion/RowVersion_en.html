<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-rc.19">
    <script>
      (function() {
        const userMode = localStorage.getItem('vuepress-reco-color-scheme') || 'auto';
        const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (userMode === 'dark' || (userMode === 'auto' && systemDarkMode)) {
          document.documentElement.classList.toggle('dark', true);
        }
      })();
    </script>
    <title>SQL Server RowVersion in the SQL Sugar | Manifacturing Industry Blog</title><meta name="description" content="This is a blog for manufacturing industry, some experiences just for json zhao.">
    <link rel="preload" href="/Vueblog/assets/style-DRXNKcOj.css" as="style"><link rel="stylesheet" href="/Vueblog/assets/style-DRXNKcOj.css">
    <link rel="modulepreload" href="/Vueblog/assets/app-DZFgIm2e.js"><link rel="modulepreload" href="/Vueblog/assets/RowVersion_en.html-B8kNRAFX.js">
    <link rel="prefetch" href="/Vueblog/assets/timeline.html-D_Noduhf.js" as="script"><link rel="prefetch" href="/Vueblog/assets/posts.html-Lv7Um4w9.js" as="script"><link rel="prefetch" href="/Vueblog/assets/friendship-link.html-B6klY6tl.js" as="script"><link rel="prefetch" href="/Vueblog/assets/1.html-CMio1Q4K.js" as="script"><link rel="prefetch" href="/Vueblog/assets/1.html-zdffzDGO.js" as="script"><link rel="prefetch" href="/Vueblog/assets/2.html-QrHnzzxn.js" as="script"><link rel="prefetch" href="/Vueblog/assets/1.html-DEu0-_VT.js" as="script"><link rel="prefetch" href="/Vueblog/assets/1.html-D9CqS-Su.js" as="script"><link rel="prefetch" href="/Vueblog/assets/1.html-AYXl7u7P.js" as="script"><link rel="prefetch" href="/Vueblog/assets/1.html-D1zSHXAw.js" as="script"><link rel="prefetch" href="/Vueblog/assets/1.html-nCrF2V7G.js" as="script"><link rel="prefetch" href="/Vueblog/assets/1.html-Dx9HPwjJ.js" as="script"><link rel="prefetch" href="/Vueblog/assets/1.html-ZKttjWdf.js" as="script"><link rel="prefetch" href="/Vueblog/assets/1.html-uH6JcQ7t.js" as="script"><link rel="prefetch" href="/Vueblog/assets/1.html-6qCD7gFn.js" as="script"><link rel="prefetch" href="/Vueblog/assets/1.html-B8jI9PyL.js" as="script"><link rel="prefetch" href="/Vueblog/assets/1.html-DR5rRFTG.js" as="script"><link rel="prefetch" href="/Vueblog/assets/1.html-DmgPwlsS.js" as="script"><link rel="prefetch" href="/Vueblog/assets/1.html-BCifinVK.js" as="script"><link rel="prefetch" href="/Vueblog/assets/1.html-oPPaBf5y.js" as="script"><link rel="prefetch" href="/Vueblog/assets/1.html-mqN4E8TD.js" as="script"><link rel="prefetch" href="/Vueblog/assets/1.html-B97HChz-.js" as="script"><link rel="prefetch" href="/Vueblog/assets/2.html-BHyMvwEj.js" as="script"><link rel="prefetch" href="/Vueblog/assets/3.html-C6ob2K8x.js" as="script"><link rel="prefetch" href="/Vueblog/assets/4.html-C4FmCHtX.js" as="script"><link rel="prefetch" href="/Vueblog/assets/index.html-BZ-QJVYx.js" as="script"><link rel="prefetch" href="/Vueblog/assets/ElasticsearchIntroduce.html-D3xQ9TaD.js" as="script"><link rel="prefetch" href="/Vueblog/assets/ELKSimpeIntroduce.html-CFJZDO1M.js" as="script"><link rel="prefetch" href="/Vueblog/assets/FilebeatIntroduce.html-Can357vd.js" as="script"><link rel="prefetch" href="/Vueblog/assets/KibanaIntroduce.html-BoiYv3or.js" as="script"><link rel="prefetch" href="/Vueblog/assets/LogstashIntroduce.html-CfPxoWsD.js" as="script"><link rel="prefetch" href="/Vueblog/assets/guide.html-nlLv3J1Z.js" as="script"><link rel="prefetch" href="/Vueblog/assets/api.html-0mQU3ro_.js" as="script"><link rel="prefetch" href="/Vueblog/assets/home.html-SvHxifDK.js" as="script"><link rel="prefetch" href="/Vueblog/assets/plugin.html-BLEl6evq.js" as="script"><link rel="prefetch" href="/Vueblog/assets/theme.html-D6u4rpFs.js" as="script"><link rel="prefetch" href="/Vueblog/assets/NssmCommand.html-DQfhFx4c.js" as="script"><link rel="prefetch" href="/Vueblog/assets/What_is_MES.html-CJOwtnEk.js" as="script"><link rel="prefetch" href="/Vueblog/assets/CompairvsSQLServerSSIS.html-HEq9kAcO.js" as="script"><link rel="prefetch" href="/Vueblog/assets/What_is_FD.html-CutHuTl6.js" as="script"><link rel="prefetch" href="/Vueblog/assets/What_is_WMS.html-1ly_FOB4.js" as="script"><link rel="prefetch" href="/Vueblog/assets/NET8Introduce.html-u0V9SGvv.js" as="script"><link rel="prefetch" href="/Vueblog/assets/ExportData.html-CCTPXo1y.js" as="script"><link rel="prefetch" href="/Vueblog/assets/TableDataCompare.html-C4Xodmoa.js" as="script"><link rel="prefetch" href="/Vueblog/assets/SqliteCommSql.html-Dzb7rhn1.js" as="script"><link rel="prefetch" href="/Vueblog/assets/NIFI1.2.8Version.html-CDTpnkGR.js" as="script"><link rel="prefetch" href="/Vueblog/assets/NIFI2.4.0Version.html-DfOu32-W.js" as="script"><link rel="prefetch" href="/Vueblog/assets/GetFile.html-Oo0EVuES.js" as="script"><link rel="prefetch" href="/Vueblog/assets/ParseJson.html-DcmSCMAZ.js" as="script"><link rel="prefetch" href="/Vueblog/assets/cdcImplement.html-BalulseT.js" as="script"><link rel="prefetch" href="/Vueblog/assets/ModifyCDCTable.html-Cy6r_7NR.js" as="script"><link rel="prefetch" href="/Vueblog/assets/SQL Server CDC Table Explain.html-CJkFKow_.js" as="script"><link rel="prefetch" href="/Vueblog/assets/IndexCreate.html-IvDMpj-7.js" as="script"><link rel="prefetch" href="/Vueblog/assets/AF_XmlToJson.html-D4iF2LEC.js" as="script"><link rel="prefetch" href="/Vueblog/assets/usp_GetCDCQueryStartMode.html-Ct4oNhcp.js" as="script"><link rel="prefetch" href="/Vueblog/assets/usp_GetCdcTableData.html-C2xRb0HX.js" as="script"><link rel="prefetch" href="/Vueblog/assets/usp_UpdateNextCDCTraceData.html-CV8iUsiJ.js" as="script"><link rel="prefetch" href="/Vueblog/assets/CreateTable.html-C8m1jlyp.js" as="script"><link rel="prefetch" href="/Vueblog/assets/GetDatabaseTableScript.html-C402VwlZ.js" as="script"><link rel="prefetch" href="/Vueblog/assets/UpdateDifferentTable.html-CGaZa0Us.js" as="script"><link rel="prefetch" href="/Vueblog/assets/KeysetPagination.html-CjgHPeL9.js" as="script"><link rel="prefetch" href="/Vueblog/assets/Page_offsetPerformance.html-BpG2PKSV.js" as="script"><link rel="prefetch" href="/Vueblog/assets/404.html-NCYzjCeM.js" as="script"><link rel="prefetch" href="/Vueblog/assets/Valine.min-_LyT3bfY.js" as="script"><link rel="prefetch" href="/Vueblog/assets/giscus-aTimukGI-DWEKOTfS.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container series--no show-catalog"><header class="navbar-container not-open"><div class="navbar-inner"><div class="site-brand nav-item"><img class="logo" src="/Vueblog/logo.png" alt="Manifacturing Industry Blog"><a href="/Vueblog/" class="site-name can-hide">Manifacturing Industry Blog</a></div><div class="nav-item navbar-links-wrapper" style=""><div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div><nav class="navbar-links"><!--[--><div class="navbar-links__item"><a href="/Vueblog/" class="link" aria-label="Home"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Home<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/Vueblog/categories/Skills/1.html" class="link" aria-label="Skills"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Skills<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/Vueblog/categories/ELK/1.html" class="link" aria-label="ELK"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->ELK<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/Vueblog/categories/ETL/1.html" class="link" aria-label="ETL"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->ETL<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/Vueblog/categories/MES/1.html" class="link" aria-label="MES"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->MES<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/Vueblog/categories/WMS/1.html" class="link" aria-label="WMS"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->WMS<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/Vueblog/categories/Digitalization/1.html" class="link" aria-label="Digitalization"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Digitalization<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/Vueblog/categories/Experience/1.html" class="link" aria-label="Experiences"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Experiences<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/Vueblog/tags/SQLServer/1.html" class="link" aria-label="Tags"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Tags<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="Docs"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Docs<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="Docs"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Docs<!--]--></span></span></span><span class="right arrow"></span></button><ul class="dropdown-link__container" style="display:none;"><!--[--><li class="dropdown-link__item"><a href="/Vueblog/docs/theme-reco/theme" class="link" aria-label="vuepress-reco"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->vuepress-reco<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/Vueblog/blogs/other/guide" class="link" aria-label="vuepress-theme-reco"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->vuepress-theme-reco<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--><!----><span class="xicon-container btn-toggle-dark-mode btn--dark-mode navbar-links__item"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:;"><path d="M15 2h2v3h-2z" fill="currentColor"></path><path d="M27 15h3v2h-3z" fill="currentColor"></path><path d="M15 27h2v3h-2z" fill="currentColor"></path><path d="M2 15h3v2H2z" fill="currentColor"></path><path d="M5.45 6.884l1.414-1.415l2.121 2.122l-1.414 1.414z" fill="currentColor"></path><path d="M23 7.58l2.121-2.12l1.414 1.414l-2.121 2.121z" fill="currentColor"></path><path d="M23.002 24.416l1.415-1.414l2.12 2.122l-1.413 1.414z" fill="currentColor"></path><path d="M5.47 25.13L7.59 23L9 24.42l-2.12 2.12l-1.41-1.41z" fill="currentColor"></path><path d="M16 8a8 8 0 1 0 8 8a8 8 0 0 0-8-8zm0 14a6 6 0 0 1 0-12z" fill="currentColor"></path></svg></span><ul class="social-links navbar-links__item"><!--[--><!--]--></ul></nav><span class="xicon-container btn-toggle-menus"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:;"><circle cx="16" cy="8" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="24" r="2" fill="currentColor"></circle></svg></span></div></div></header><!----><!----><!----><div class="theme-main" style=""><!----><!--[--><main class="page-container"><div class="page-content"><h1 class="page-title">SQL Server RowVersion in the SQL Sugar</h1><div class="page-info"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M16 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7z" fill="currentColor"></path><path d="M26 30h-2v-5a5 5 0 0 0-5-5h-6a5 5 0 0 0-5 5v5H6v-5a7 7 0 0 1 7-7h6a7 7 0 0 1 7 7z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->json zhao<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->2025/11/14<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M11.17 6l3.42 3.41l.58.59H28v16H4V6h7.17m0-2H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H16l-3.41-3.41A2 2 0 0 0 11.17 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[--><!--[--><a href="/Vueblog/categories/Skills/1.html" class="">Skills</a><!--]--><!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M10 14a4 4 0 1 1 4-4a4.005 4.005 0 0 1-4 4zm0-6a2 2 0 1 0 1.998 2.004A2.002 2.002 0 0 0 10 8z" fill="currentColor"></path><path d="M16.644 29.415L2.586 15.354A2 2 0 0 1 2 13.941V4a2 2 0 0 1 2-2h9.941a2 2 0 0 1 1.414.586l14.06 14.058a2 2 0 0 1 0 2.828l-9.943 9.943a2 2 0 0 1-2.829 0zM4 4v9.942L18.058 28L28 18.058L13.942 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[--><!--[--><a href="/Vueblog/tags/NET/1.html" class="">NET</a><!--]--><!--]--></span></span><!----></div><div class="theme-reco-md-content"><div><h1 id="sql-server-rowversion-usage" tabindex="-1"><a class="header-anchor" href="#sql-server-rowversion-usage"><span><strong>SQL Server RowVersion Usage</strong></span></a></h1><h2 id="_1-what-does-rowversion-do" tabindex="-1"><a class="header-anchor" href="#_1-what-does-rowversion-do"><span>1. What does rowversion do?</span></a></h2><p>When a data table is updated, how do I characterize the order in which each data row is updated? The easiest way to do this is to use the RowVersion field, which is similar to the TimeStamp type, except that TimeStamp is obsolete and should be avoided in product design and should be replaced with RowVersion.</p><p>RowVersion is a self-incrementing data type, which is only used to define the column type of the data table, and its value occupies a fixed size of 8 bytes, which is a unique, binary number automatically generated by the SQL Server database, and the value is stored in binary(8).</p><p>RowVersion is used to stamp the version of each row of data in a data table, and the storage size is 8 bytes. The RowVersion data type is an eternally increasing number that does not retain a date or time, but you can use RowVersion to compare the order in which the rows of data were updated, and if @rv1&lt;@rv2, then the update of the @rv2 occurred after the @rv1.</p><h2 id="_2-how-is-the-rowversion-incremented" tabindex="-1"><a class="header-anchor" href="#_2-how-is-the-rowversion-incremented"><span>2. How is the RowVersion incremented?</span></a></h2><p>Each database has only one self-incrementing count, which is the DataBase RowVersion, which is incremented each time the Insert or Update command is executed on a table with a RowVersion field. A data table can have a maximun of one RowVersion field, and whenever you run the Insert or Update command on the data table, the filed will be updated to the lasted value of the counter.</p><h3 id="_1-features-of-the-rowversion-field" tabindex="-1"><a class="header-anchor" href="#_1-features-of-the-rowversion-field"><span>1. Features of the Rowversion field:</span></a></h3><ol><li>Since each Database has only one Counter, the value of RowVersion is unique in the current databases, and the value of this field is different for all tables with RowVersion filed.</li><li>The RowVersion of the database is only incremented and not rolled back; If a transaction that updates table data(Insert or Update) is rolled back, the value of the RowVersion filed of the data table is rolled back, however, the RowVersion of the database is not rolled back.</li><li>The value is automatically assingned by the database, and can&#39;t be explicitly assigned in the Insert or Update commands.</li></ol><p>If the current value is different from the RowVersion value of the last record,it means that the data row has been updated.</p><h3 id="_2-global-variables-dbts" tabindex="-1"><a class="header-anchor" href="#_2-global-variables-dbts"><span>2. Global variables @@DBTS</span></a></h3><p>Global variable @@DBTS(Database TimeStamp).The data type used to return the Rowversion of the current database, @@DBTS The return values is varbinary(8), which is unique across the entire database. The value of the counter is incremented everytime a table in the database containing the RowVersion field executeds the Insert or Update command. The value of the @@DBTS is not rolled back,even when a transaction is rolled back, or when an Insert or Update transcation fails.</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">select</span> @<span class="token variable">@DBTS</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="_3-next-database-rowversion" tabindex="-1"><a class="header-anchor" href="#_3-next-database-rowversion"><span>3. Next Database RowVersion</span></a></h2><p>The none-deterministic function MIN_ACTIVE_ROWVERSION() is used to return the next RowVersion values of the current database, which is @@DBTS+1.</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">select</span> @<span class="token variable">@DBTS</span> <span class="token keyword">as</span> dbts<span class="token punctuation">,</span> MIN_ACTIVE_ROWVERSION<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> min_active</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h1 id="_2-how-to-use-rowversion" tabindex="-1"><a class="header-anchor" href="#_2-how-to-use-rowversion"><span>2. How to use RowVersion?</span></a></h1><p>RowVersion is used to characterize the order in which rows are updated, and its value is unique in the database.</p><h2 id="_1-create-a-rowversion-filed" tabindex="-1"><a class="header-anchor" href="#_1-create-a-rowversion-filed"><span>1. Create a RowVersion filed</span></a></h2><p>Run the Created command to create a table that contains a filed type RowVersion</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">alter</span> <span class="token keyword">table</span> yourtable <span class="token keyword">add</span> RowVersionStamp Rowversion<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="_2-insert-a-new-line" tabindex="-1"><a class="header-anchor" href="#_2-insert-a-new-line"><span>2. Insert a new line</span></a></h2><p>The value of the RowVersion field is automatically incremented and cannot be assigned to the column, however, when a row of data is inserted, the field is automatically set to the value of the global variable @@DBTS</p><h2 id="_3-update-the-data-rows" tabindex="-1"><a class="header-anchor" href="#_3-update-the-data-rows"><span>3. Update the data rows</span></a></h2><p>When the value of any column in the data table changes, the RowVersion field is automatically set to the value of the global variable @@DBTS</p><h2 id="_4-the-value-of-the-rowversion-field-will-not-be-rolled-back" tabindex="-1"><a class="header-anchor" href="#_4-the-value-of-the-rowversion-field-will-not-be-rolled-back"><span>4. The value of the RowVersion field will not be rolled back</span></a></h2><p>When an update (INSERT or UPDATE) transaction is rolled back, the value of the RowVersion field is not rolled back, the value of the @@DBTS is used:</p><p>When a transaction is rolled back, the value of the RowVersion field is not rolled back, but the value of the RowVersion field of the database is incremented, because the database counter is not in the transaction, and its value is only incremented, not rolled back, so once the value of the RowVersion field is updated, it will not be rolled back.</p><h2 id="_5-convert-rowversion-to-int-bigint-and-timestamp" tabindex="-1"><a class="header-anchor" href="#_5-convert-rowversion-to-int-bigint-and-timestamp"><span>5.Convert Rowversion to int,bigint and timestamp</span></a></h2><h3 id="_5-1-rowversionasint-will-give-you-the-lower-4-bytes-as-an-int-however-it-will-be-null" tabindex="-1"><a class="header-anchor" href="#_5-1-rowversionasint-will-give-you-the-lower-4-bytes-as-an-int-however-it-will-be-null"><span>5.1 <code>RowVersionAsInt</code> will give you the lower 4 bytes as an <code>int</code>, however ,it will be null.</span></a></h3><h3 id="_5-2-rowversionasbigint-will-give-you-the-full-8-byte-rowversion-as-a-bigint" tabindex="-1"><a class="header-anchor" href="#_5-2-rowversionasbigint-will-give-you-the-full-8-byte-rowversion-as-a-bigint"><span>5.2 <code>RowVersionAsBigInt</code> will give you the full 8-byte rowversion as a <code>BIGINT</code>.</span></a></h3><h3 id="_5-3-in-sql-server-the-rowversion-data-type-is-a-unique-binary-number-within-a-database-that-automatically-increments-whenever-a-row-is-inserted-or-updated-so-we-don-t-need-to-convert-to-timestamp" tabindex="-1"><a class="header-anchor" href="#_5-3-in-sql-server-the-rowversion-data-type-is-a-unique-binary-number-within-a-database-that-automatically-increments-whenever-a-row-is-inserted-or-updated-so-we-don-t-need-to-convert-to-timestamp"><span>5.3 In SQL Server, the <code>rowversion</code> data type is a unique binary number within a database that automatically increments whenever a row is inserted or updated. So, we don&#39;t need to convert to <code>timestamp</code>.</span></a></h3><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">select</span> </span>
<span class="line">	id<span class="token punctuation">,</span></span>
<span class="line">	RowVersionStamp<span class="token punctuation">,</span></span>
<span class="line">    CAST<span class="token punctuation">(</span>CAST<span class="token punctuation">(</span>RowVersionStamp <span class="token keyword">AS</span> <span class="token keyword">BINARY</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token keyword">INT</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> RowVersionAsInt<span class="token punctuation">,</span></span>
<span class="line">	CAST<span class="token punctuation">(</span>RowVersionStamp <span class="token keyword">AS</span> <span class="token keyword">BIGINT</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> RowVersionAsBigInt</span>
<span class="line"><span class="token keyword">from</span> TestJson</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-4-the-result-are-shown-blow" tabindex="-1"><a class="header-anchor" href="#_5-4-the-result-are-shown-blow"><span>5.4 The result are shown blow</span></a></h3><div><img src="/Vueblog/assets/RowversionConvertBigint-BGYgnPec.png" title="Rowversion Convert Bigint"></div><h2 id="_4-customzie-rowversion" tabindex="-1"><a class="header-anchor" href="#_4-customzie-rowversion"><span>4. customzie RowVersion</span></a></h2><h3 id="_1-why-we-need-to-define-the-customzie-rowversion" tabindex="-1"><a class="header-anchor" href="#_1-why-we-need-to-define-the-customzie-rowversion"><span>1. Why we need to define the customzie RowVersion?</span></a></h3><ol><li>In some cases, we need to see how many times a table has been changed, but SQLSever&#39;s Rowversion is database level oriented, not table level oriented. And it is binary 8 bytes, can not directly represent the number of changes in the table, size, time. So, we can put the table RowVersion field we want to define as bigint,timestamp type.</li><li>We control RowVersion field changes in two ways, one is a trigger, and the other is code control.</li></ol><h3 id="_2-using-trigger-define-rowversion" tabindex="-1"><a class="header-anchor" href="#_2-using-trigger-define-rowversion"><span>2. Using trigger define RowVersion</span></a></h3><ol><li>The advantage of a trigger defining Rowversion is that you do not need to write this logic in the code. The Database automatically changes the value of the RowVersion<br> filed when it detects that the table row data has changed.</li><li>define RowVersion filed as Bigint</li></ol><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token comment">-- alter table filed</span></span>
<span class="line"><span class="token keyword">alter</span> <span class="token keyword">table</span> your <span class="token keyword">table</span> <span class="token keyword">add</span> version <span class="token keyword">bigint</span> <span class="token keyword">default</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">-- add trigger</span></span>
<span class="line"><span class="token keyword">CREATE</span> <span class="token keyword">TRIGGER</span> trg_yourtable_Update</span>
<span class="line"><span class="token keyword">ON</span> yourtable</span>
<span class="line"><span class="token keyword">AFTER</span> <span class="token keyword">UPDATE</span></span>
<span class="line"><span class="token keyword">AS</span></span>
<span class="line"><span class="token keyword">BEGIN</span></span>
<span class="line">    <span class="token keyword">SET</span> NOCOUNT <span class="token keyword">ON</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">UPDATE</span> yourtable</span>
<span class="line">    <span class="token keyword">SET</span> Version <span class="token operator">=</span> Version <span class="token operator">+</span> <span class="token number">1</span></span>
<span class="line">    <span class="token keyword">FROM</span> yourtable u</span>
<span class="line">    <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> inserted i <span class="token keyword">ON</span> u<span class="token punctuation">.</span>Id <span class="token operator">=</span> i<span class="token punctuation">.</span>Id<span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">END</span><span class="token punctuation">;</span></span>
<span class="line">GO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>define RowVersion as TimeStamp</li></ol><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token comment">-- Add the version column with default value as current timestamp</span></span>
<span class="line"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> yourtable <span class="token keyword">add</span> version DATETIME2 <span class="token keyword">DEFAULT</span> <span class="token punctuation">(</span>GETDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">-- Create the trigger to update the LastUpdated column on row update</span></span>
<span class="line"><span class="token keyword">CREATE</span> <span class="token keyword">TRIGGER</span> trg_yourtable_version_Timestamp</span>
<span class="line"><span class="token keyword">ON</span> yourtable</span>
<span class="line"><span class="token keyword">AFTER</span> <span class="token keyword">UPDATE</span></span>
<span class="line"><span class="token keyword">AS</span></span>
<span class="line"><span class="token keyword">BEGIN</span></span>
<span class="line">    <span class="token keyword">SET</span> NOCOUNT <span class="token keyword">ON</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">UPDATE</span> yourtable</span>
<span class="line">    <span class="token keyword">SET</span> version <span class="token operator">=</span> GETDATE<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">FROM</span> yourtable u</span>
<span class="line">    <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> inserted i <span class="token keyword">ON</span> u<span class="token punctuation">.</span>Id <span class="token operator">=</span> i<span class="token punctuation">.</span>Id<span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">END</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-code-control-rowversion" tabindex="-1"><a class="header-anchor" href="#_3-code-control-rowversion"><span>3. code control rowversion</span></a></h3><p>Instead of manually modifying the data in the database table, we can modify RowVersion in the code control area and carry the RowVersion field with us every time we insert and update.</p><h2 id="_5-why-microsoft-does-not-recommend-using-timestamps-to-replace-rowversion" tabindex="-1"><a class="header-anchor" href="#_5-why-microsoft-does-not-recommend-using-timestamps-to-replace-rowversion"><span>5. Why Microsoft does not recommend using <code>timestamps</code> to replace <code>RowVersion</code>?</span></a></h2><h3 id="_1-different-purpose-and-functionality" tabindex="-1"><a class="header-anchor" href="#_1-different-purpose-and-functionality"><span>1. Different Purpose and Functionality</span></a></h3><ul><li><p>The <code>timestamps</code> data type(now referred to as <code>RowVersion</code>) is designed specificlly to support optimistic concurrency control and help with data versioning. It provides a unique binary number that changes every time a row is modified.</p></li><li><p><code>Timestamps</code>, as they might be thought of in other contexts(like datatime stamps), are used for recording the exact time when event occurs and are not intended to handle concurrency control or uniquely identify row versions.</p></li></ul><h3 id="_2-concurrency-control" tabindex="-1"><a class="header-anchor" href="#_2-concurrency-control"><span>2. Concurrency control</span></a></h3><ul><li><code>RowVersion</code> ensures each version of a row is unique and sequentially increments with each change, which is crucial for detecting modifications and mainttaining data integrity in concurrent environments.</li><li>Using a datetime-based timestamp for concurrency control can lead to collisions(two updates occurring within the same timestamp precision) and is not sequential, making it unreliable for this purpose.</li></ul><h3 id="_3-performance" tabindex="-1"><a class="header-anchor" href="#_3-performance"><span>3. Performance</span></a></h3><ul><li><code>rowversion</code> is efficient and optimized for version tracking by the SQL Server engine. It is stored as a binary value, ensuring minimal storage overhead and fast comparisons.</li><li>Datetime values are larger and more complex, leading to increased storage requirements and slower performance in comparison operations, especially when dealing with high transaction volumes.</li></ul><h3 id="_4-precision-and-accuracy" tabindex="-1"><a class="header-anchor" href="#_4-precision-and-accuracy"><span>4. Precision and Accuracy</span></a></h3><ul><li><code>rowversion</code> guarantees unique values across the database, providing absolute accuracy in identifying changes.</li><li>Implementing similar functionality with datetime timestamps would require additional custom logic and code, increasing the complexity and potential for errors.</li></ul><h3 id="_5-functionality-and-usability" tabindex="-1"><a class="header-anchor" href="#_5-functionality-and-usability"><span>5. Functionality and Usability</span></a></h3><ul><li><code>rowversion</code> integrates seamlessly with SQL Serverâ€™s native support for optimistic concurrency control, making it easy to implement and use.</li></ul><h3 id="_6-best-practices-and-recommendations" tabindex="-1"><a class="header-anchor" href="#_6-best-practices-and-recommendations"><span>6. Best Practices and Recommendations</span></a></h3><ul><li>Microsoft provides comprehensive guidance and best practices for using rowversion to manage row versioning. Following these best practices ensures the database system remains reliable, performant, and easier to maintain.</li><li>Diverging from recommended practices, like using datetime stamps for row versioning, can lead to unforeseen issues, lack of support, and increased technical debt.</li></ul><p>In summary, Microsoft does not recommend using datetime <code>timestamps</code> to replace <code>rowversion</code> due to significant differences in functionality, precision, performance, and reliability. Sticking with the rowversion data type ensures robust concurrency control, optimal performance, and adherence to best practices in SQL Server database management.</p><h2 id="_6-net-control-sqlserver-rowversion" tabindex="-1"><a class="header-anchor" href="#_6-net-control-sqlserver-rowversion"><span>6. .NET control SQLServer RowVersion</span></a></h2><h3 id="_1-use-optimistic-locks-to-prevent-duplicate-commits" tabindex="-1"><a class="header-anchor" href="#_1-use-optimistic-locks-to-prevent-duplicate-commits"><span>1.Use <a href="https://www.sqlserver-dba.com/2012/12/sql-server-concurrency-control-optimistic-and-pessimistic.html#google_vignette" target="_blank" rel="noopener noreferrer">optimistic locks<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> to prevent duplicate commits</span></a></h3><h3 id="precondition" tabindex="-1"><a class="header-anchor" href="#precondition"><span>precondition:</span></a></h3><h4 id="_1-user-open-the-edit-ui-and-update-the-data" tabindex="-1"><a class="header-anchor" href="#_1-user-open-the-edit-ui-and-update-the-data"><span>1. User open the edit UI and update the data;</span></a></h4><h4 id="_2-user-click-submit-button-after-he-or-she-updated-all-data" tabindex="-1"><a class="header-anchor" href="#_2-user-click-submit-button-after-he-or-she-updated-all-data"><span>2. User click submit button after he or she updated all data;</span></a></h4><h3 id="principle" tabindex="-1"><a class="header-anchor" href="#principle"><span>Principle:</span></a></h3><h4 id="_1-when-the-user-opens-the-edit-box-for-too-long-someone-else-has-modified-the-record-and-he-may-delete-the-updated-data-before-commiting-we-need-a-time-filed-to-compare-with-the-version-of-the-database-to-determine-whether-the-data-has-been-changed" tabindex="-1"><a class="header-anchor" href="#_1-when-the-user-opens-the-edit-box-for-too-long-someone-else-has-modified-the-record-and-he-may-delete-the-updated-data-before-commiting-we-need-a-time-filed-to-compare-with-the-version-of-the-database-to-determine-whether-the-data-has-been-changed"><span>1. When the user opens the edit box for too long,someone else has modified the record, and he may delete the updated data before commiting.We need a time filed to compare with the version of the database to determine whether the data has been changed.</span></a></h4><h3 id="procedure" tabindex="-1"><a class="header-anchor" href="#procedure"><span>Procedure</span></a></h3><h4 id="_1-open-two-browsers-edit-the-same-record-the-user-a-save-it-first-and-then-the-user-b-save-it-again-finially-this-scenario-can-be-repeated" tabindex="-1"><a class="header-anchor" href="#_1-open-two-browsers-edit-the-same-record-the-user-a-save-it-first-and-then-the-user-b-save-it-again-finially-this-scenario-can-be-repeated"><span>1. Open two browsers, edit the same record. The user A save it first, and then the user B save it again. Finially, this scenario can be repeated.</span></a></h4><h4 id="_2-because-it-is-the-same-record-itself-does-not-exist-concurrent-the-editing-interface-will-not-refresh-the-data-for-a-day-someone-submits-the-data-will-recover-another-submiting" tabindex="-1"><a class="header-anchor" href="#_2-because-it-is-the-same-record-itself-does-not-exist-concurrent-the-editing-interface-will-not-refresh-the-data-for-a-day-someone-submits-the-data-will-recover-another-submiting"><span>2. Because it is the same record itself does not exist concurrent, the editing interface will not refresh the data for a day.Someone submits the data will recover another submiting.</span></a></h4><h3 id="code-sqlsugar-sqlserver-net8" tabindex="-1"><a class="header-anchor" href="#code-sqlsugar-sqlserver-net8"><span>Code(SQLSugar + SQLServer + .NET8)</span></a></h3><h4 id="entity" tabindex="-1"><a class="header-anchor" href="#entity"><span>Entity:</span></a></h4><div class="language-C# line-numbers-mode" data-highlighter="prismjs" data-ext="C#" data-title="C#"><pre><code><span class="line">public class Test</span>
<span class="line">{</span>
<span class="line">    [SugarColumn(IsPrimaryKey =true)]</span>
<span class="line">    public long Id { get; set;}</span>
<span class="line"></span>
<span class="line">    [SugarColumn(</span>
<span class="line">             IsEnableUpdateVersionValidation = true, </span>
<span class="line">             IsOnlyIgnoreInsert=true,</span>
<span class="line">             IsOnlyIgnoreUpdate=true,</span>
<span class="line">             ColumnDataType=&quot;timestamp&quot; </span>
<span class="line">              )] </span>
<span class="line">    // Only the SQL Server entity is byte, another should be timestamp or another type</span>
<span class="line">    public byte[]? Version { get; set;}</span>
<span class="line">    </span>
<span class="line">    // additional filed</span>
<span class="line">    [SugarColumn(IsIgnore = true)]</span>
<span class="line">    public long TimeStampVersionLong</span>
<span class="line">    {</span>
<span class="line"></span>
<span class="line">        get =&gt; Version != null ? BitConverter.ToInt64(Version.Reverse().ToArray(), 0) : 0;</span>
<span class="line">        set =&gt; Version = BitConverter.GetBytes(value).Reverse().ToArray();</span>
<span class="line">    }</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="submit-interface" tabindex="-1"><a class="header-anchor" href="#submit-interface"><span>Submit Interface</span></a></h4><div class="language-C# line-numbers-mode" data-highlighter="prismjs" data-ext="C#" data-title="C#"><pre><code><span class="line">[HttpPost]</span>
<span class="line">[Description(&quot;PostTestData&quot;)]</span>
<span class="line">public async Task&lt;IReturnModel&lt;VerTest&gt;&gt; PostTestData(Test testDto)</span>
<span class="line">{  </span>
<span class="line">    await _db.Updateable(testDto).IsEnableUpdateVersionValidation().Where(t=&gt;t.Id==testDto.Id).ExecuteCommandAsync();</span>
<span class="line">    var data = await  _db.Queryable&lt;VerTest&gt;().Where(t=&gt;t.Id==testDto.Id).FirstAsync();</span>
<span class="line">    return ReturnModel.Successful(&quot;success&quot;,data);</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="principle-1" tabindex="-1"><a class="header-anchor" href="#principle-1"><span>Principle</span></a></h4><div class="language-C# line-numbers-mode" data-highlighter="prismjs" data-ext="C#" data-title="C#"><pre><code><span class="line">//QueryThisData, Id filed must exist and must be primary key</span>
<span class="line">var data = db.Queryable&lt;Test&gt;().InSingle(id);</span>
<span class="line">  </span>
<span class="line">//Sucess (data.Version is equal to the database Version)</span>
<span class="line">db.Updateable(data).IsEnableUpdateVersionValidation().ExecuteCommandAsync();//the database version will update after executed</span>
<span class="line">  </span>
<span class="line">//faild (data.Version is not equal to the database Version )</span>
<span class="line">db.Updateable(data).IsEnableUpdateVersionValidation().ExecuteCommandAsync();</span>
<span class="line"></span>
<span class="line">//how to know the VersionExceptions or another</span>
<span class="line">//catch the exception </span>
<span class="line">throw new VersionExceptions //if the exception is  VersionExceptions , we can know this is concurrency exceptions</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Last Updated 2025/11/14 14:54:42<!--]--></span></span></div></footer><!----><!----></div><div class="page-catalog-container"><h5 class="tip">ON THIS PAGE</h5><ul><!--[--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/Vueblog/blogs/Skills/NET/RowVersion/RowVersion_en.html#_1-what-does-rowversion-do" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="1. What does rowversion do?"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->1. What does rowversion do?<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/Vueblog/blogs/Skills/NET/RowVersion/RowVersion_en.html#_2-how-is-the-rowversion-incremented" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="2. How is the RowVersion incremented?"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->2. How is the RowVersion incremented?<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/Vueblog/blogs/Skills/NET/RowVersion/RowVersion_en.html#_1-features-of-the-rowversion-field" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="1. Features of the Rowversion field:"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->1. Features of the Rowversion field:<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/Vueblog/blogs/Skills/NET/RowVersion/RowVersion_en.html#_2-global-variables-dbts" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="2. Global variables @@DBTS"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->2. Global variables @@DBTS<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/Vueblog/blogs/Skills/NET/RowVersion/RowVersion_en.html#_3-next-database-rowversion" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="3. Next Database RowVersion"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->3. Next Database RowVersion<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/Vueblog/blogs/Skills/NET/RowVersion/RowVersion_en.html#_1-create-a-rowversion-filed" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="1. Create a RowVersion filed"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->1. Create a RowVersion filed<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/Vueblog/blogs/Skills/NET/RowVersion/RowVersion_en.html#_2-insert-a-new-line" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="2. Insert a new line"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->2. Insert a new line<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/Vueblog/blogs/Skills/NET/RowVersion/RowVersion_en.html#_3-update-the-data-rows" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="3. Update the data rows"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->3. Update the data rows<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/Vueblog/blogs/Skills/NET/RowVersion/RowVersion_en.html#_4-the-value-of-the-rowversion-field-will-not-be-rolled-back" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="4. The value of the RowVersion field will not be rolled back"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->4. The value of the RowVersion field will not be rolled back<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/Vueblog/blogs/Skills/NET/RowVersion/RowVersion_en.html#_5-convert-rowversion-to-int-bigint-and-timestamp" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="5.Convert Rowversion to int,bigint and timestamp"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->5.Convert Rowversion to int,bigint and timestamp<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/Vueblog/blogs/Skills/NET/RowVersion/RowVersion_en.html#_5-1-rowversionasint-will-give-you-the-lower-4-bytes-as-an-int-however-it-will-be-null" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="5.1 RowVersionAsInt will give you the lower 4 bytes as an int, however ,it will be null."><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->5.1 RowVersionAsInt will give you the lower 4 bytes as an int, however ,it will be null.<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/Vueblog/blogs/Skills/NET/RowVersion/RowVersion_en.html#_5-2-rowversionasbigint-will-give-you-the-full-8-byte-rowversion-as-a-bigint" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="5.2 RowVersionAsBigInt will give you the full 8-byte rowversion as a BIGINT."><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->5.2 RowVersionAsBigInt will give you the full 8-byte rowversion as a BIGINT.<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/Vueblog/blogs/Skills/NET/RowVersion/RowVersion_en.html#_5-3-in-sql-server-the-rowversion-data-type-is-a-unique-binary-number-within-a-database-that-automatically-increments-whenever-a-row-is-inserted-or-updated-so-we-don-t-need-to-convert-to-timestamp" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="5.3 In SQL Server, the rowversion data type is a unique binary number within a database that automatically increments whenever a row is inserted or updated. So, we don&#39;t need to convert to timestamp."><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->5.3 In SQL Server, the rowversion data type is a unique binary number within a database that automatically increments whenever a row is inserted or updated. So, we don&#39;t need to convert to timestamp.<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/Vueblog/blogs/Skills/NET/RowVersion/RowVersion_en.html#_5-4-the-result-are-shown-blow" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="5.4 The result are shown blow"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->5.4 The result are shown blow<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/Vueblog/blogs/Skills/NET/RowVersion/RowVersion_en.html#_4-customzie-rowversion" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="4. customzie RowVersion"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->4. customzie RowVersion<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/Vueblog/blogs/Skills/NET/RowVersion/RowVersion_en.html#_1-why-we-need-to-define-the-customzie-rowversion" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="1. Why we need to define the customzie RowVersion?"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->1. Why we need to define the customzie RowVersion?<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/Vueblog/blogs/Skills/NET/RowVersion/RowVersion_en.html#_2-using-trigger-define-rowversion" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="2. Using trigger define RowVersion"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->2. Using trigger define RowVersion<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/Vueblog/blogs/Skills/NET/RowVersion/RowVersion_en.html#_3-code-control-rowversion" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="3. code control rowversion"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->3. code control rowversion<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/Vueblog/blogs/Skills/NET/RowVersion/RowVersion_en.html#_5-why-microsoft-does-not-recommend-using-timestamps-to-replace-rowversion" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="5. Why Microsoft does not recommend using timestamps to replace RowVersion?"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->5. Why Microsoft does not recommend using timestamps to replace RowVersion?<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/Vueblog/blogs/Skills/NET/RowVersion/RowVersion_en.html#_1-different-purpose-and-functionality" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="1. Different Purpose and Functionality"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->1. Different Purpose and Functionality<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/Vueblog/blogs/Skills/NET/RowVersion/RowVersion_en.html#_2-concurrency-control" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="2. Concurrency control"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->2. Concurrency control<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/Vueblog/blogs/Skills/NET/RowVersion/RowVersion_en.html#_3-performance" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="3. Performance"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->3. Performance<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/Vueblog/blogs/Skills/NET/RowVersion/RowVersion_en.html#_4-precision-and-accuracy" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="4. Precision and Accuracy"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->4. Precision and Accuracy<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/Vueblog/blogs/Skills/NET/RowVersion/RowVersion_en.html#_5-functionality-and-usability" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="5. Functionality and Usability"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->5. Functionality and Usability<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/Vueblog/blogs/Skills/NET/RowVersion/RowVersion_en.html#_6-best-practices-and-recommendations" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="6. Best Practices and Recommendations"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->6. Best Practices and Recommendations<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/Vueblog/blogs/Skills/NET/RowVersion/RowVersion_en.html#_6-net-control-sqlserver-rowversion" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="6. .NET control SQLServer RowVersion"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->6. .NET control SQLServer RowVersion<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/Vueblog/blogs/Skills/NET/RowVersion/RowVersion_en.html#_1-use-optimistic-locks-to-prevent-duplicate-commits" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="1.Use optimistic locks to prevent duplicate commits"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->1.Use optimistic locks to prevent duplicate commits<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/Vueblog/blogs/Skills/NET/RowVersion/RowVersion_en.html#precondition" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="precondition:"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->precondition:<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/Vueblog/blogs/Skills/NET/RowVersion/RowVersion_en.html#principle" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="Principle:"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Principle:<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/Vueblog/blogs/Skills/NET/RowVersion/RowVersion_en.html#procedure" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="Procedure"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Procedure<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/Vueblog/blogs/Skills/NET/RowVersion/RowVersion_en.html#code-sqlsugar-sqlserver-net8" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="Code(SQLSugar + SQLServer + .NET8)"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Code(SQLSugar + SQLServer + .NET8)<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--]--></ul></div></main><!--]--></div></div><!--[--><!----><!----><!--]--><!--]--></div>
    <script type="module" src="/Vueblog/assets/app-DZFgIm2e.js" defer></script>
  </body>
</html>
