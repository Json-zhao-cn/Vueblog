<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-rc.19">
    <script>
      (function() {
        const userMode = localStorage.getItem('vuepress-reco-color-scheme') || 'auto';
        const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (userMode === 'dark' || (userMode === 'auto' && systemDarkMode)) {
          document.documentElement.classList.toggle('dark', true);
        }
      })();
    </script>
    <title>Deep Introduction to Filebeat in the ELK | Manifacturing Industry Blog</title><meta name="description" content="This is a blog for manufacturing industry, some experiences just for json zhao.">
    <link rel="preload" href="/Vueblog/assets/style-DRXNKcOj.css" as="style"><link rel="stylesheet" href="/Vueblog/assets/style-DRXNKcOj.css">
    <link rel="modulepreload" href="/Vueblog/assets/app-DZFgIm2e.js"><link rel="modulepreload" href="/Vueblog/assets/FilebeatIntroduce.html-Can357vd.js">
    <link rel="prefetch" href="/Vueblog/assets/timeline.html-D_Noduhf.js" as="script"><link rel="prefetch" href="/Vueblog/assets/posts.html-Lv7Um4w9.js" as="script"><link rel="prefetch" href="/Vueblog/assets/friendship-link.html-B6klY6tl.js" as="script"><link rel="prefetch" href="/Vueblog/assets/1.html-CMio1Q4K.js" as="script"><link rel="prefetch" href="/Vueblog/assets/1.html-zdffzDGO.js" as="script"><link rel="prefetch" href="/Vueblog/assets/2.html-QrHnzzxn.js" as="script"><link rel="prefetch" href="/Vueblog/assets/1.html-DEu0-_VT.js" as="script"><link rel="prefetch" href="/Vueblog/assets/1.html-D9CqS-Su.js" as="script"><link rel="prefetch" href="/Vueblog/assets/1.html-AYXl7u7P.js" as="script"><link rel="prefetch" href="/Vueblog/assets/1.html-D1zSHXAw.js" as="script"><link rel="prefetch" href="/Vueblog/assets/1.html-nCrF2V7G.js" as="script"><link rel="prefetch" href="/Vueblog/assets/1.html-Dx9HPwjJ.js" as="script"><link rel="prefetch" href="/Vueblog/assets/1.html-ZKttjWdf.js" as="script"><link rel="prefetch" href="/Vueblog/assets/1.html-uH6JcQ7t.js" as="script"><link rel="prefetch" href="/Vueblog/assets/1.html-6qCD7gFn.js" as="script"><link rel="prefetch" href="/Vueblog/assets/1.html-B8jI9PyL.js" as="script"><link rel="prefetch" href="/Vueblog/assets/1.html-DR5rRFTG.js" as="script"><link rel="prefetch" href="/Vueblog/assets/1.html-DmgPwlsS.js" as="script"><link rel="prefetch" href="/Vueblog/assets/1.html-BCifinVK.js" as="script"><link rel="prefetch" href="/Vueblog/assets/1.html-oPPaBf5y.js" as="script"><link rel="prefetch" href="/Vueblog/assets/1.html-mqN4E8TD.js" as="script"><link rel="prefetch" href="/Vueblog/assets/1.html-B97HChz-.js" as="script"><link rel="prefetch" href="/Vueblog/assets/2.html-BHyMvwEj.js" as="script"><link rel="prefetch" href="/Vueblog/assets/3.html-C6ob2K8x.js" as="script"><link rel="prefetch" href="/Vueblog/assets/4.html-C4FmCHtX.js" as="script"><link rel="prefetch" href="/Vueblog/assets/index.html-BZ-QJVYx.js" as="script"><link rel="prefetch" href="/Vueblog/assets/ElasticsearchIntroduce.html-D3xQ9TaD.js" as="script"><link rel="prefetch" href="/Vueblog/assets/ELKSimpeIntroduce.html-CFJZDO1M.js" as="script"><link rel="prefetch" href="/Vueblog/assets/KibanaIntroduce.html-BoiYv3or.js" as="script"><link rel="prefetch" href="/Vueblog/assets/LogstashIntroduce.html-CfPxoWsD.js" as="script"><link rel="prefetch" href="/Vueblog/assets/guide.html-nlLv3J1Z.js" as="script"><link rel="prefetch" href="/Vueblog/assets/api.html-0mQU3ro_.js" as="script"><link rel="prefetch" href="/Vueblog/assets/home.html-SvHxifDK.js" as="script"><link rel="prefetch" href="/Vueblog/assets/plugin.html-BLEl6evq.js" as="script"><link rel="prefetch" href="/Vueblog/assets/theme.html-D6u4rpFs.js" as="script"><link rel="prefetch" href="/Vueblog/assets/NssmCommand.html-DQfhFx4c.js" as="script"><link rel="prefetch" href="/Vueblog/assets/What_is_MES.html-CJOwtnEk.js" as="script"><link rel="prefetch" href="/Vueblog/assets/CompairvsSQLServerSSIS.html-HEq9kAcO.js" as="script"><link rel="prefetch" href="/Vueblog/assets/What_is_FD.html-CutHuTl6.js" as="script"><link rel="prefetch" href="/Vueblog/assets/What_is_WMS.html-1ly_FOB4.js" as="script"><link rel="prefetch" href="/Vueblog/assets/NET8Introduce.html-u0V9SGvv.js" as="script"><link rel="prefetch" href="/Vueblog/assets/ExportData.html-CCTPXo1y.js" as="script"><link rel="prefetch" href="/Vueblog/assets/TableDataCompare.html-C4Xodmoa.js" as="script"><link rel="prefetch" href="/Vueblog/assets/SqliteCommSql.html-Dzb7rhn1.js" as="script"><link rel="prefetch" href="/Vueblog/assets/NIFI1.2.8Version.html-CDTpnkGR.js" as="script"><link rel="prefetch" href="/Vueblog/assets/NIFI2.4.0Version.html-DfOu32-W.js" as="script"><link rel="prefetch" href="/Vueblog/assets/RowVersion_en.html-B8kNRAFX.js" as="script"><link rel="prefetch" href="/Vueblog/assets/GetFile.html-Oo0EVuES.js" as="script"><link rel="prefetch" href="/Vueblog/assets/ParseJson.html-DcmSCMAZ.js" as="script"><link rel="prefetch" href="/Vueblog/assets/cdcImplement.html-BalulseT.js" as="script"><link rel="prefetch" href="/Vueblog/assets/ModifyCDCTable.html-Cy6r_7NR.js" as="script"><link rel="prefetch" href="/Vueblog/assets/SQL Server CDC Table Explain.html-CJkFKow_.js" as="script"><link rel="prefetch" href="/Vueblog/assets/IndexCreate.html-IvDMpj-7.js" as="script"><link rel="prefetch" href="/Vueblog/assets/AF_XmlToJson.html-D4iF2LEC.js" as="script"><link rel="prefetch" href="/Vueblog/assets/usp_GetCDCQueryStartMode.html-Ct4oNhcp.js" as="script"><link rel="prefetch" href="/Vueblog/assets/usp_GetCdcTableData.html-C2xRb0HX.js" as="script"><link rel="prefetch" href="/Vueblog/assets/usp_UpdateNextCDCTraceData.html-CV8iUsiJ.js" as="script"><link rel="prefetch" href="/Vueblog/assets/CreateTable.html-C8m1jlyp.js" as="script"><link rel="prefetch" href="/Vueblog/assets/GetDatabaseTableScript.html-C402VwlZ.js" as="script"><link rel="prefetch" href="/Vueblog/assets/UpdateDifferentTable.html-CGaZa0Us.js" as="script"><link rel="prefetch" href="/Vueblog/assets/KeysetPagination.html-CjgHPeL9.js" as="script"><link rel="prefetch" href="/Vueblog/assets/Page_offsetPerformance.html-BpG2PKSV.js" as="script"><link rel="prefetch" href="/Vueblog/assets/404.html-NCYzjCeM.js" as="script"><link rel="prefetch" href="/Vueblog/assets/Valine.min-_LyT3bfY.js" as="script"><link rel="prefetch" href="/Vueblog/assets/giscus-aTimukGI-DWEKOTfS.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container series--no show-catalog"><header class="navbar-container not-open"><div class="navbar-inner"><div class="site-brand nav-item"><img class="logo" src="/Vueblog/logo.png" alt="Manifacturing Industry Blog"><a href="/Vueblog/" class="site-name can-hide">Manifacturing Industry Blog</a></div><div class="nav-item navbar-links-wrapper" style=""><div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div><nav class="navbar-links"><!--[--><div class="navbar-links__item"><a href="/Vueblog/" class="link" aria-label="Home"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Home<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/Vueblog/categories/Skills/1.html" class="link" aria-label="Skills"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Skills<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/Vueblog/categories/ELK/1.html" class="link" aria-label="ELK"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->ELK<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/Vueblog/categories/ETL/1.html" class="link" aria-label="ETL"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->ETL<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/Vueblog/categories/MES/1.html" class="link" aria-label="MES"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->MES<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/Vueblog/categories/WMS/1.html" class="link" aria-label="WMS"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->WMS<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/Vueblog/categories/Digitalization/1.html" class="link" aria-label="Digitalization"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Digitalization<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/Vueblog/categories/Experience/1.html" class="link" aria-label="Experiences"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Experiences<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/Vueblog/tags/SQLServer/1.html" class="link" aria-label="Tags"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Tags<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="Docs"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Docs<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="Docs"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Docs<!--]--></span></span></span><span class="right arrow"></span></button><ul class="dropdown-link__container" style="display:none;"><!--[--><li class="dropdown-link__item"><a href="/Vueblog/docs/theme-reco/theme" class="link" aria-label="vuepress-reco"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->vuepress-reco<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/Vueblog/blogs/other/guide" class="link" aria-label="vuepress-theme-reco"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->vuepress-theme-reco<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--><!----><span class="xicon-container btn-toggle-dark-mode btn--dark-mode navbar-links__item"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:;"><path d="M15 2h2v3h-2z" fill="currentColor"></path><path d="M27 15h3v2h-3z" fill="currentColor"></path><path d="M15 27h2v3h-2z" fill="currentColor"></path><path d="M2 15h3v2H2z" fill="currentColor"></path><path d="M5.45 6.884l1.414-1.415l2.121 2.122l-1.414 1.414z" fill="currentColor"></path><path d="M23 7.58l2.121-2.12l1.414 1.414l-2.121 2.121z" fill="currentColor"></path><path d="M23.002 24.416l1.415-1.414l2.12 2.122l-1.413 1.414z" fill="currentColor"></path><path d="M5.47 25.13L7.59 23L9 24.42l-2.12 2.12l-1.41-1.41z" fill="currentColor"></path><path d="M16 8a8 8 0 1 0 8 8a8 8 0 0 0-8-8zm0 14a6 6 0 0 1 0-12z" fill="currentColor"></path></svg></span><ul class="social-links navbar-links__item"><!--[--><!--]--></ul></nav><span class="xicon-container btn-toggle-menus"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:;"><circle cx="16" cy="8" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="24" r="2" fill="currentColor"></circle></svg></span></div></div></header><!----><!----><!----><div class="theme-main" style=""><!----><!--[--><main class="page-container"><div class="page-content"><h1 class="page-title">Deep Introduction to Filebeat in the ELK</h1><div class="page-info"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M16 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7z" fill="currentColor"></path><path d="M26 30h-2v-5a5 5 0 0 0-5-5h-6a5 5 0 0 0-5 5v5H6v-5a7 7 0 0 1 7-7h6a7 7 0 0 1 7 7z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->json zhao<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->2025/10/06<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M11.17 6l3.42 3.41l.58.59H28v16H4V6h7.17m0-2H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H16l-3.41-3.41A2 2 0 0 0 11.17 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[--><!--[--><a href="/Vueblog/categories/ELK/1.html" class="">ELK</a><!--]--><!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M10 14a4 4 0 1 1 4-4a4.005 4.005 0 0 1-4 4zm0-6a2 2 0 1 0 1.998 2.004A2.002 2.002 0 0 0 10 8z" fill="currentColor"></path><path d="M16.644 29.415L2.586 15.354A2 2 0 0 1 2 13.941V4a2 2 0 0 1 2-2h9.941a2 2 0 0 1 1.414.586l14.06 14.058a2 2 0 0 1 0 2.828l-9.943 9.943a2 2 0 0 1-2.829 0zM4 4v9.942L18.058 28L28 18.058L13.942 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[--><!--[--><a href="/Vueblog/tags/ELK/1.html" class="">ELK</a><!--]--><!--]--></span></span><!----></div><div class="theme-reco-md-content"><div><h3 id="deep-introduction-to-filebeat-in-the-elk" tabindex="-1"><a class="header-anchor" href="#deep-introduction-to-filebeat-in-the-elk"><span><strong>Deep Introduction to Filebeat in the ELK</strong></span></a></h3><p><strong>Filebeat</strong> is a lightweight, open-source log shipper from the <strong>Elastic Stack (ELK)</strong> designed to forward and centralize log data. It is optimized for efficiently reading log files and sending data to Elasticsearch, Logstash, or any supported output. Filebeat minimizes resource usage and integrates seamlessly with other Elastic components.</p><h3 id="key-features-of-filebeat" tabindex="-1"><a class="header-anchor" href="#key-features-of-filebeat"><span><strong>Key Features of Filebeat</strong></span></a></h3><ol><li><p><strong>Lightweight and Efficient</strong>:</p><ul><li>Consumes minimal system resources, making it ideal for deploying on application servers, containers, or lightweight environments.</li></ul></li><li><p><strong>Modular Design</strong>:</p><ul><li>Prebuilt modules for popular log sources (e.g., Nginx, Apache, Kubernetes, AWS CloudWatch) simplify configuration.</li></ul></li><li><p><strong>Multiline Log Handling</strong>:</p><ul><li>Handles multiline log entries (e.g., Java stack traces) by combining related lines into a single event.</li></ul></li><li><p><strong>Resilient and Fault-Tolerant</strong>:</p><ul><li>Tracks log processing using a registry file, ensuring no data is lost even after a restart.</li></ul></li><li><p><strong>Flexible Output Options</strong>:</p><ul><li>Can send logs directly to <strong>Elasticsearch</strong>, <strong>Logstash</strong>, or other destinations like Kafka.</li></ul></li><li><p><strong>Autodiscover for Containers</strong>:</p><ul><li>Dynamically adapts to containerized environments such as Docker and Kubernetes.</li></ul></li><li><p><strong>Secure Data Transmission</strong>:</p><ul><li>Supports TLS encryption and authentication for secure communication.</li></ul></li></ol><hr><h3 id="how-filebeat-fits-into-the-elk-pipeline" tabindex="-1"><a class="header-anchor" href="#how-filebeat-fits-into-the-elk-pipeline"><span><strong>How Filebeat Fits into the ELK Pipeline</strong></span></a></h3><ul><li><strong>Input</strong>: Filebeat collects logs from log files, system logs, container logs, or cloud service logs.</li><li><strong>Processing</strong>: Preprocesses data (optional) using modules or custom processors.</li><li><strong>Output</strong>: Sends processed logs to Elasticsearch or Logstash for further analysis and storage.</li></ul><hr><h3 id="key-components-of-filebeat" tabindex="-1"><a class="header-anchor" href="#key-components-of-filebeat"><span><strong>Key Components of Filebeat</strong></span></a></h3><ol><li><p><strong>Inputs</strong>:</p><ul><li>Define where and how logs are collected.</li><li>Common input types: <ul><li><code>log</code>: Reads log files line by line.</li><li><code>stdin</code>: Captures logs from standard input streams.</li></ul></li></ul></li><li><p><strong>Processors</strong>:</p><ul><li>Perform lightweight data transformations before forwarding logs.</li><li>Examples: adding fields, removing fields, or filtering events.</li></ul></li><li><p><strong>Outputs</strong>:</p><ul><li>Define the destination for logs.</li><li>Supported outputs: <ul><li>Elasticsearch (default)</li><li>Logstash</li><li>Kafka</li><li>Redis</li></ul></li></ul></li><li><p><strong>Modules</strong>:</p><ul><li>Predefined configurations for popular services and platforms, e.g., MySQL, Nginx, and AWS.</li></ul></li><li><p><strong>Autodiscover</strong>:</p><ul><li>Dynamically adjusts configurations based on container or service metadata.</li></ul></li><li><p><strong>Registry File</strong>:</p><ul><li>Tracks the read position in log files to prevent duplicate processing.</li></ul></li></ol><hr><h3 id="filebeat-modules" tabindex="-1"><a class="header-anchor" href="#filebeat-modules"><span><strong>Filebeat Modules</strong></span></a></h3><p>Filebeat modules provide preconfigured input, parsing, and visualization for common log sources. Each module contains:</p><ul><li><strong>Fileset</strong>: Defines input configuration.</li><li><strong>Ingest Pipelines</strong>: Preprocess logs in Elasticsearch.</li></ul><h4 id="example-modules" tabindex="-1"><a class="header-anchor" href="#example-modules"><span>Example Modules:</span></a></h4><ol><li><strong>Nginx</strong>: Handles Nginx access and error logs.</li><li><strong>System</strong>: Collects system logs like syslog and authentication logs.</li><li><strong>Kubernetes</strong>: Gathers Kubernetes pod logs and metadata.</li></ol><h4 id="enabling-a-module" tabindex="-1"><a class="header-anchor" href="#enabling-a-module"><span>Enabling a Module:</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">filebeat modules <span class="token builtin class-name">enable</span> nginx</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="configuring-a-module" tabindex="-1"><a class="header-anchor" href="#configuring-a-module"><span>Configuring a Module:</span></a></h4><p>Edit the module&#39;s configuration file, typically located in:</p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre><code><span class="line">/etc/filebeat/modules.d/nginx.yml</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><h3 id="example-filebeat-configuration" tabindex="-1"><a class="header-anchor" href="#example-filebeat-configuration"><span><strong>Example Filebeat Configuration</strong></span></a></h3><p>Hereâ€™s a sample configuration file for Filebeat:</p><h4 id="filebeat-yml" tabindex="-1"><a class="header-anchor" href="#filebeat-yml"><span>filebeat.yml:</span></a></h4><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre><code><span class="line"><span class="token key atrule">filebeat.inputs</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token punctuation">-</span> <span class="token key atrule">type</span><span class="token punctuation">:</span> log</span>
<span class="line">    <span class="token key atrule">paths</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token punctuation">-</span> /var/log/myapp/<span class="token important">*.log</span></span>
<span class="line">    <span class="token key atrule">multiline</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token key atrule">pattern</span><span class="token punctuation">:</span> <span class="token string">&#39;^[&#39;</span>  <span class="token comment"># Example for multiline logs starting with a timestamp</span></span>
<span class="line">      <span class="token key atrule">negate</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></span>
<span class="line">      <span class="token key atrule">match</span><span class="token punctuation">:</span> after</span>
<span class="line"></span>
<span class="line"><span class="token key atrule">processors</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token punctuation">-</span> <span class="token key atrule">add_host_metadata</span><span class="token punctuation">:</span> <span class="token null important">~</span></span>
<span class="line">  <span class="token punctuation">-</span> <span class="token key atrule">add_cloud_metadata</span><span class="token punctuation">:</span> <span class="token null important">~</span></span>
<span class="line"></span>
<span class="line"><span class="token key atrule">output.elasticsearch</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">hosts</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;http://localhost:9200&quot;</span><span class="token punctuation">]</span></span>
<span class="line">  <span class="token key atrule">username</span><span class="token punctuation">:</span> <span class="token string">&quot;elastic&quot;</span></span>
<span class="line">  <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token string">&quot;changeme&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token key atrule">setup.kibana</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">host</span><span class="token punctuation">:</span> <span class="token string">&quot;http://localhost:5601&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="advanced-features-of-filebeat" tabindex="-1"><a class="header-anchor" href="#advanced-features-of-filebeat"><span><strong>Advanced Features of Filebeat</strong></span></a></h3><h4 id="_1-multiline-log-handling" tabindex="-1"><a class="header-anchor" href="#_1-multiline-log-handling"><span>1. <strong>Multiline Log Handling</strong>:</span></a></h4><p>Filebeat can merge log lines based on a pattern, useful for logs like Java stack traces or exceptions.</p><p>Example Configuration:</p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre><code><span class="line"><span class="token key atrule">multiline</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">pattern</span><span class="token punctuation">:</span> <span class="token string">&#39;^\[&#39;</span></span>
<span class="line">  <span class="token key atrule">negate</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></span>
<span class="line">  <span class="token key atrule">match</span><span class="token punctuation">:</span> after</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-dynamic-configuration-with-autodiscover" tabindex="-1"><a class="header-anchor" href="#_2-dynamic-configuration-with-autodiscover"><span>2. <strong>Dynamic Configuration with Autodiscover</strong>:</span></a></h4><p>Filebeat autodiscover monitors container environments (Docker, Kubernetes).</p><p>Example for Kubernetes:</p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre><code><span class="line"><span class="token key atrule">filebeat.autodiscover</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">providers</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token punctuation">-</span> <span class="token key atrule">type</span><span class="token punctuation">:</span> kubernetes</span>
<span class="line">      <span class="token key atrule">node</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>NODE_NAME<span class="token punctuation">}</span></span>
<span class="line">      <span class="token key atrule">templates</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token punctuation">-</span> <span class="token key atrule">condition</span><span class="token punctuation">:</span></span>
<span class="line">            <span class="token key atrule">equals</span><span class="token punctuation">:</span></span>
<span class="line">              <span class="token key atrule">kubernetes.labels.app</span><span class="token punctuation">:</span> <span class="token string">&quot;myapp&quot;</span></span>
<span class="line">          <span class="token key atrule">config</span><span class="token punctuation">:</span></span>
<span class="line">            <span class="token punctuation">-</span> <span class="token key atrule">type</span><span class="token punctuation">:</span> container</span>
<span class="line">              <span class="token key atrule">paths</span><span class="token punctuation">:</span></span>
<span class="line">                <span class="token punctuation">-</span> /var/log/containers/<span class="token important">*-$</span><span class="token punctuation">{</span>data.kubernetes.container.id<span class="token punctuation">}</span>.log</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-tls-encryption-for-secure-communication" tabindex="-1"><a class="header-anchor" href="#_3-tls-encryption-for-secure-communication"><span>3. <strong>TLS Encryption for Secure Communication</strong>:</span></a></h4><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre><code><span class="line"><span class="token key atrule">output.elasticsearch</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">hosts</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;https://elasticsearch.mycluster.local:9200&quot;</span><span class="token punctuation">]</span></span>
<span class="line">  <span class="token key atrule">username</span><span class="token punctuation">:</span> <span class="token string">&quot;elastic&quot;</span></span>
<span class="line">  <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token string">&quot;changeme&quot;</span></span>
<span class="line">  <span class="token key atrule">ssl.certificate_authorities</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;/path/to/ca.crt&quot;</span><span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-filebeat-and-logstash-integration" tabindex="-1"><a class="header-anchor" href="#_4-filebeat-and-logstash-integration"><span>4. <strong>Filebeat and Logstash Integration</strong>:</span></a></h4><p>When Logstash is used as an intermediate processor:</p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre><code><span class="line"><span class="token key atrule">output.logstash</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">hosts</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;logstash.mycluster.local:5044&quot;</span><span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="monitoring-and-debugging-filebeat" tabindex="-1"><a class="header-anchor" href="#monitoring-and-debugging-filebeat"><span><strong>Monitoring and Debugging Filebeat</strong></span></a></h3><ol><li><p><strong>Enable Monitoring</strong>:</p><ul><li>Use the <code>Monitoring</code> feature in Elastic Stack to view metrics in Kibana.</li><li>Example:<div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre><code><span class="line"><span class="token key atrule">monitoring.enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></span>
<span class="line"><span class="token key atrule">monitoring.elasticsearch</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">hosts</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;http://localhost:9200&quot;</span><span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><p><strong>Run Filebeat in Debug Mode</strong>:</p><ul><li>Start Filebeat in debug mode to troubleshoot issues:<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">filebeat <span class="token parameter variable">-e</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;*&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul></li><li><p><strong>Check Logs</strong>:</p><ul><li>Filebeat logs are stored in <code>/var/log/filebeat</code> or configured logging directories.</li></ul></li></ol><hr><h3 id="common-use-cases" tabindex="-1"><a class="header-anchor" href="#common-use-cases"><span><strong>Common Use Cases</strong></span></a></h3><ol><li><strong>Application Log Collection</strong>: <ul><li>Collect logs from application servers and forward them to ELK for analysis.</li></ul></li><li><strong>Cloud and Container Environments</strong>: <ul><li>Use Filebeat for Kubernetes and Docker log shipping with metadata enrichment.</li></ul></li><li><strong>Centralized System Logging</strong>: <ul><li>Gather system logs from multiple servers into a single ELK cluster.</li></ul></li></ol></div></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Last Updated 2025/11/14 16:39:47<!--]--></span></span></div></footer><!----><!----></div><div class="page-catalog-container"><h5 class="tip">ON THIS PAGE</h5><ul><!--[--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/Vueblog/blogs/ELK/FilebeatIntroduce.html#deep-introduction-to-filebeat-in-the-elk" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="Deep Introduction to Filebeat in the ELK"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Deep Introduction to Filebeat in the ELK<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/Vueblog/blogs/ELK/FilebeatIntroduce.html#key-features-of-filebeat" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="Key Features of Filebeat"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Key Features of Filebeat<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/Vueblog/blogs/ELK/FilebeatIntroduce.html#how-filebeat-fits-into-the-elk-pipeline" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="How Filebeat Fits into the ELK Pipeline"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->How Filebeat Fits into the ELK Pipeline<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/Vueblog/blogs/ELK/FilebeatIntroduce.html#key-components-of-filebeat" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="Key Components of Filebeat"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Key Components of Filebeat<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/Vueblog/blogs/ELK/FilebeatIntroduce.html#filebeat-modules" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="Filebeat Modules"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Filebeat Modules<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/Vueblog/blogs/ELK/FilebeatIntroduce.html#example-filebeat-configuration" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="Example Filebeat Configuration"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Example Filebeat Configuration<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/Vueblog/blogs/ELK/FilebeatIntroduce.html#advanced-features-of-filebeat" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="Advanced Features of Filebeat"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Advanced Features of Filebeat<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/Vueblog/blogs/ELK/FilebeatIntroduce.html#monitoring-and-debugging-filebeat" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="Monitoring and Debugging Filebeat"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Monitoring and Debugging Filebeat<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/Vueblog/blogs/ELK/FilebeatIntroduce.html#common-use-cases" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="Common Use Cases"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Common Use Cases<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--></ul></div></main><!--]--></div></div><!--[--><!----><!----><!--]--><!--]--></div>
    <script type="module" src="/Vueblog/assets/app-DZFgIm2e.js" defer></script>
  </body>
</html>
