import{_ as s,c as n,b as e,o as t}from"./app-Z9C42F7L.js";const l={};function c(o,a){return t(),n("div",null,[...a[0]||(a[0]=[e(`<h3 id="modify-cdc-table" tabindex="-1"><a class="header-anchor" href="#modify-cdc-table"><span>Modify CDC Table</span></a></h3><h4 id="_1-add-column-in-the-source-table" tabindex="-1"><a class="header-anchor" href="#_1-add-column-in-the-source-table"><span>1. Add column in the source table</span></a></h4><p>When we add the column in the table, and the cdc table <code>cdc.captured_columns</code> can&#39;t add the column automaticlly, and the cdc transaction log table <code>cdc.dbo_YourTable_CT</code> also can&#39;t add the column automaticlly. Because the cdc table must insure any structure changes of source table didn&#39;t cause any unpredictable influence on the target cdc table.Then, it will not your target database table.</p><h4 id="_2-how-to-clear-the-cdc-ct-table-data" tabindex="-1"><a class="header-anchor" href="#_2-how-to-clear-the-cdc-ct-table-data"><span>2. How to clear the cdc_ct table data?</span></a></h4><p>Before you clear the cdc_ct table data, you should insure this action can&#39;t case any affect for your business. Well, you can use truncate table command</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line">    <span class="token keyword">USE</span> ReportCenter<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">truncate</span> <span class="token keyword">table</span> cdc_ct<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-how-to-re-enable-the-cdc-ct-table" tabindex="-1"><a class="header-anchor" href="#_3-how-to-re-enable-the-cdc-ct-table"><span>3. How to re-enable the cdc_ct table ?</span></a></h4><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">USE</span> ReportCenter<span class="token punctuation">;</span></span>
<span class="line">GO</span>
<span class="line"><span class="token comment">-- 1. disable the cdc table</span></span>
<span class="line"><span class="token keyword">EXEC</span> sys<span class="token punctuation">.</span>sp_cdc_disable_table </span>
<span class="line">    <span class="token variable">@source_schema</span> <span class="token operator">=</span> N<span class="token string">&#39;dbo&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token variable">@source_name</span> <span class="token operator">=</span> N<span class="token string">&#39;Yourtable&#39;</span><span class="token punctuation">,</span> </span>
<span class="line">    <span class="token variable">@capture_instance</span> <span class="token operator">=</span> <span class="token string">&#39;all&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token comment">-- 2.  Enable the CDC table</span></span>
<span class="line"><span class="token keyword">EXEC</span> sys<span class="token punctuation">.</span>sp_cdc_enable_table </span>
<span class="line">    <span class="token variable">@source_schema</span> <span class="token operator">=</span> N<span class="token string">&#39;dbo&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token variable">@source_name</span> <span class="token operator">=</span> N<span class="token string">&#39;Yourtable&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token variable">@role_name</span> <span class="token operator">=</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> </span>
<span class="line">    <span class="token variable">@capture_instance</span> <span class="token operator">=</span> N<span class="token string">&#39;dbo_Yourtable&#39;</span><span class="token punctuation">;</span>  </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,8)])])}const p=s(l,[["render",c]]),d=JSON.parse('{"path":"/blogs/Skills/SQLServer/CDC/ModifyCDCTable.html","title":"Modify CDC Table","lang":"en-US","frontmatter":{"title":"Modify CDC Table","date":"2025/10/09","tags":["SQLServerCDC"],"categories":["Skills"]},"headers":[{"level":3,"title":"Modify CDC Table","slug":"modify-cdc-table","link":"#modify-cdc-table","children":[]}],"git":{"createdTime":1762950152000,"updatedTime":1762950152000,"contributors":[{"name":"Zhao Json","email":"json.zhao@scania.com.cn","commits":1}]},"filePathRelative":"blogs/Skills/SQLServer/CDC/ModifyCDCTable.md"}');export{p as comp,d as data};
